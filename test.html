<!DOCTYPE html>
<html lang="ja">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Member Switcher (Static Buttons)</title>
<style>
  :root{
    --bg:#f7f7fb; --ink:#222; --muted:#6b7280; --brand:#ff4db8;
    --panel:#fff; --ring:#e5e7eb;
  }
  *{box-sizing:border-box}
  html,body{height:100%}
  body{
    margin:0; font:16px/1.6 system-ui,-apple-system,"Segoe UI",Roboto,"Hiragino Sans","Noto Sans JP",sans-serif;
    color:var(--ink); background:var(--bg);
    display:grid; place-items:start center;
  }
  .wrap{
    width:min(1200px,100%); padding:24px clamp(12px,4vw,28px);
    display:grid; gap:24px;
    grid-template-columns: 1fr minmax(260px,420px) 1fr;
    align-items:start;
  }

  /* Side panels */
  .panel{
    position:relative; background:var(--panel); border:1px solid var(--ring);
    border-radius:20px; padding:20px; min-height:520px; overflow:hidden;
    box-shadow:0 10px 30px rgba(0,0,0,.05);
  }
  .panel h2{
    position:absolute; inset:auto auto 20px 20px; margin:0;
    font-weight:700; letter-spacing:.08em; color:var(--muted); font-size:12px;
  }
  .panel .tag-vertical{
    position:absolute; inset:0 auto 0 0; width:48px; display:flex; align-items:center; justify-content:center;
    writing-mode:vertical-rl; text-orientation:mixed; letter-spacing:.2em;
    color:#d1d5db; font-weight:800; font-size:14px; user-select:none;
  }
  .art{
    position:absolute; inset:0; display:grid; place-items:center; padding:24px;
  }
  .art img{
    max-width:100%; max-height:100%; object-fit:contain; filter:drop-shadow(0 10px 30px rgba(0,0,0,.15));
    opacity:1; transition:opacity .24s ease, transform .24s ease;
  }
  .panel.loading img{ opacity:0; transform:translateY(6px) scale(.995); }

  /* Center selector */
  .selector{
    background:var(--panel); border:1px solid var(--ring);
    border-radius:20px; padding:18px; box-shadow:0 10px 30px rgba(0,0,0,.05);
  }
  .selector h3{ margin:4px 4px 12px; font-size:14px; color:var(--muted); letter-spacing:.08em; }
  .grid{
    display:grid; gap:10px; grid-template-columns:repeat(2, minmax(0,1fr));
  }
  @media (min-width:880px){ .grid{ grid-template-columns:repeat(3, minmax(0,1fr)); } }
  .pill{
    appearance:none; border:1px solid var(--ring); background:#fff; color:var(--ink);
    padding:10px 12px; border-radius:999px; cursor:pointer; font-weight:600; font-size:14px;
    transition:transform .06s ease, box-shadow .2s ease, border-color .2s ease, background .2s ease;
  }
  .pill:hover{ transform:translateY(-1px); box-shadow:0 6px 14px rgba(0,0,0,.06); }
  .pill[aria-pressed="true"], .pill.is-selected{
    border-color:var(--brand);
    box-shadow:0 0 0 3px color-mix(in oklab, var(--brand) 20%, transparent);
  }
  .bar{ height:1px; background:var(--ring); margin:14px 2px; }

  .tip{ text-align:center; color:var(--muted); font-size:12px; margin-top:-8px; }
  .nameplate{
    position:absolute; top:16px; left:16px; padding:.35rem .7rem; border-radius:999px;
    background:#fff; border:1px solid var(--ring); font-weight:700; box-shadow:0 6px 14px rgba(0,0,0,.06);
  }
</style>
</head>
<body>
  <main class="wrap">
    <!-- Left: GAME -->
    <section class="panel" id="panel-game" aria-live="polite">
      <span class="tag-vertical">GAME&nbsp;EVENT&nbsp;STYLE</span>
      <div class="art"><img id="img-game" alt=""></div>
      <div class="nameplate" id="name-game"></div>
      <h2>左：ゲーム衣装</h2>
    </section>

    <!-- Center: SELECTOR (buttons are static in HTML) -->
    <aside class="selector">
      <h3>MEMBER SELECT</h3>
      <div class="grid" id="member-list">
        <!-- ▼ 最初から置いておくボタン。id or data-id はユニークに。 -->
        <button class="pill is-selected"
          id="hanage-sumire"
          data-id="hanage-sumire"
          data-name="花芽すみれ"
          data-game="https://placehold.co/600x800/png?text=GAME%0A花芽すみれ"
          data-live="https://placehold.co/600x800/png?text=LIVE%0A花芽すみれ">花芽すみれ</button>

        <button class="pill"
          id="ichinose-uruha"
          data-id="ichinose-uruha"
          data-name="一ノ瀬うるは"
          data-game="https://placehold.co/600x800/png?text=GAME%0A一ノ瀬うるは"
          data-live="https://placehold.co/600x800/png?text=LIVE%0A一ノ瀬うるは">一ノ瀬うるは</button>

        <button class="pill"
          id="shiranami-ramune"
          data-id="shiranami-ramune"
          data-name="白波らむね"
          data-game="https://placehold.co/600x800/png?text=GAME%0A白波らむね"
          data-live="https://placehold.co/600x800/png?text=LIVE%0A白波らむね">白波らむね</button>

        <button class="pill"
          id="kurumi-noa"
          data-id="kurumi-noa"
          data-name="胡桃のあ"
          data-game="https://placehold.co/600x800/png?text=GAME%0A胡桃のあ"
          data-live="https://placehold.co/600x800/png?text=LIVE%0A胡桃のあ">胡桃のあ</button>

        <button class="pill"
          id="kaminari-kyupi"
          data-id="kaminari-kyupi"
          data-name="神成きゅぴ"
          data-game="https://placehold.co/600x800/png?text=GAME%0A神成きゅぴ"
          data-live="https://placehold.co/600x800/png?text=LIVE%0A神成きゅぴ">神成きゅぴ</button>

        <button class="pill"
          id="yoruno-chrome"
          data-id="yoruno-chrome"
          data-name="夜乃くろむ"
          data-game="https://placehold.co/600x800/png?text=GAME%0A夜乃くろむ"
          data-live="https://placehold.co/600x800/png?text=LIVE%0A夜乃くろむ">夜乃くろむ</button>
        <!-- ▲ 必要人数ぶんコピペで追加 -->
      </div>
      <div class="bar"></div>
      <div class="tip">Enterで決定 / ←→で移動（URLハッシュ共有OK）</div>
    </aside>

    <!-- Right: LIVE -->
    <section class="panel" id="panel-live" aria-live="polite">
      <span class="tag-vertical">LIVE&nbsp;EVENT&nbsp;STYLE</span>
      <div class="art"><img id="img-live" alt=""></div>
      <div class="nameplate" id="name-live"></div>
      <h2>右：ライブ衣装</h2>
    </section>
  </main>

<script>
/* ========= Utility ========= */
const $ = (s, r=document) => r.querySelector(s);

/* 画像を先読みしてから差し替え（チラつき防止） */
function preload(src, done){
  const img = new Image();
  img.onload = ()=> done(true, src);
  img.onerror = ()=> done(false, src);
  img.src = src;
}

/* 左右パネル更新（フェードは .panel.loading のCSSで） */
function setPanel(which, {name, src}){
  const panel = which==='game' ? $('#panel-game') : $('#panel-live');
  const img   = which==='game' ? $('#img-game')   : $('#img-live');
  const namep = which==='game' ? $('#name-game')  : $('#name-live');

  panel.classList.add('loading');
  namep.textContent = name;
  img.alt = name + (which==='game'?'（ゲーム衣装）':'（ライブ衣装）');

  preload(src, ()=> {
    img.src = src;
    requestAnimationFrame(()=> panel.classList.remove('loading'));
  });
}

/* ========= Static buttons version ========= */
const BTN_LIST = Array.from(document.querySelectorAll('#member-list .pill'));
let selectedIndex = Math.max(0, BTN_LIST.findIndex(b => b.classList.contains('is-selected')));

/* 押されたボタンの data-* から差し替え */
function selectFromButton(btn, pushHash){
  if(!btn) return;
  const name = btn.dataset.name || btn.textContent.trim();
  const id   = btn.dataset.id   || btn.id;
  const game = btn.dataset.game;
  const live = btn.dataset.live;

  selectedIndex = BTN_LIST.indexOf(btn);

  BTN_LIST.forEach((b, j) => {
    b.classList.toggle('is-selected', j===selectedIndex);
    b.setAttribute('aria-pressed', j===selectedIndex ? 'true' : 'false');
  });

  setPanel('game', { name, src: game });
  setPanel('live', { name, src: live  });

  if (pushHash && id) location.hash = id;
}

/* ← → でフォーカス移動（アクセシビリティ） */
function focusMove(delta) {
  const next = (selectedIndex + delta + BTN_LIST.length) % BTN_LIST.length;
  BTN_LIST[next].focus();
}

/* 既存ボタンにイベント付与 */
BTN_LIST.forEach((btn) => {
  btn.setAttribute('aria-pressed', 'false');

  btn.addEventListener('click', () => selectFromButton(btn, true));

  btn.addEventListener('keydown', (e) => {
    if (e.key === 'ArrowRight') { e.preventDefault(); focusMove(1); }
    if (e.key === 'ArrowLeft')  { e.preventDefault(); focusMove(-1); }
    if (e.key === 'Enter' || e.key === ' ') { e.preventDefault(); selectFromButton(btn, true); }
  });
});

/* URLハッシュ → 初期表示を復元 */
function initFromHash() {
  const id = location.hash.slice(1);
  const target = id ? BTN_LIST.find(b => (b.dataset.id || b.id) === id) : null;
  selectFromButton(target || BTN_LIST[selectedIndex] || BTN_LIST[0], false);
}
window.addEventListener('hashchange', initFromHash);

/* 最初の描画 */
initFromHash();
</script>
</body>
</html>